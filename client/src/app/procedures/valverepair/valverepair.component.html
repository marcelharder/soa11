<div>
    <form #valveRepairForm="ngForm">

      <div class="card">
        <div class="card-header"><h4><span class="badge badge-secondary">{{title}}</span></h4></div>
       <div *ngIf="showExistingRepair()">
         
          <div class="card">
            <div class="card-header">
              <div class="d-flex">
              <div class="p-2">{{procedureValve.Implant_Position}} repair</div>
              <div class="ml-auto p-2">
                <div class="row">
                  <div class="col-sm-6"><button class="badge badge-warning" (click)="editRepair()">Edit</button></div>
                  <div class="col-sm-6"><button class="badge badge-danger" (click)="deleteRepair()">Delete</button></div>
                </div>
                
              </div>
            </div></div>
            <div class="card-body">
              <div>
                <div class="row" *ngIf="showExistingRing()">
                  <div class="col-md-4"><span class="badge badge-secondary">Type of prosthesis</span></div>
                  <div class="col-md-6">
                    <h4><span class="badge badge-default">{{procedureValve.TYPE}}</span></h4>
                  </div>
                  <div class="col-md-2"></div>
                </div>
                <div class="row"  *ngIf="showExistingRing()">
                  <div class="col-md-4"><span class="badge badge-secondary">Size (mm)</span></div>
                  <div class="col-md-6">
                    <h4><span class="badge badge-default">{{procedureValve.SIZE}}</span></h4>
                  </div>
                  <div class="col-md-2"></div>
                </div>
                <div class="row"  *ngIf="showExistingRing()">
                  <div class="col-md-4"><span class="badge badge-secondary">Model</span></div>
                  <div class="col-md-6">
                    <h4><span class="badge badge-default">{{procedureValve.MODEL}}</span></h4>
                  </div>
                  <div class="col-md-2"></div>
                </div>
                <div class="row"  *ngIf="showExistingRing()">
                  <div class="col-md-4"><span class="badge badge-secondary">Description</span></div>
                  <div class="col-md-6">
                    <h4><span class="badge badge-default">{{valveDescription}}</span></h4>
                  </div>
                  <div class="col-md-2"></div>
                </div>
                
                <div class="row"  *ngIf="showExistingRing()">
                  <div class="col-md-4"><span class="badge badge-secondary">Serial number</span></div>
                  <div class="col-md-6">
                    <h4><span class="badge badge-default">{{procedureValve.SERIAL_IMP}}</span></h4>
                  </div>
                  <div class="col-md-2"></div>
                </div>
                <div class="row">
                  <div class="col-md-4"><span class="badge badge-secondary">Repair</span></div>
                  <div class="col-md-6">
                    <h4><span class="badge badge-default">{{getRepairDescription(procedureValve.REPAIR_TYPE)}}</span></h4>
                  </div>
                  <div class="col-md-2"></div>
                </div>
                <div class="row">
                  <div class="col-md-4"><span class="badge badge-secondary">Repair details</span></div>
                  <div class="col-md-8">
                    <textarea cols=50 rows=5 [(ngModel)]="procedureValve.Memo" name="memo" readonly></textarea>
                  </div>
               </div>
             </div>
            </div>
            
          </div>
         
       </div>


       <div class="card-footer">
        
      </div>

      <div *ngIf="!showExistingRepair()">
        <div class="card-body" *ngIf="IsOVIHospital()">
           <app-valveRepairOVI  
           [pd]="procedureValve" 
           (add)=receiveCompletedValve($event) ></app-valveRepairOVI>
        </div>
        <div class="card-body" *ngIf="!IsOVIHospital()">
          <app-valveRepairDetails 
          [pd]="procedureValve" 
          (add)=receiveCompletedValve($event) 
        ></app-valveRepairDetails>
       </div>
      </div>    
     
     
      </div>




      
    </form>
  </div>
 


